# Домашнее задание 23 ["6.1. Типы и структура СУБД"](https://github.com/netology-code/virt-homeworks/tree/virt-11/06-db-01-basics)

## Олег Дьяченко DEVOPS-22

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде - NoSQL Документо-ориентированная,
- Склады и автомобильные дороги для логистической компании - NoSQL графовая или NoSQL сетевая,
- Генеалогические деревья - NoSQL иерархическая,
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации - NoSQL ключ-значение
- Отношения клиент-покупка для интернет-магазина - я бы взял все-таки реляционную

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. 

Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

- Данные записываются на все узлы с задержкой до часа (асинхронная запись) - AP (отвечает и может разделиться, но в этот час не консистентна), PA-EC (упор на консистентность) 
- При сетевых сбоях, система может разделиться на 2 раздельных кластера - Если рассматривать в целом, то P либо PA (может разделяться, но данные могут быть не консистентны да и из-за сбоя не ответит), если рассматривать что уже развалилась и 2 кластера, то АС (каждый кластер отвечает и типа консистентен). PA-EL (главное скорость) 
- Система может не прислать корректный ответ или сбросить соединение - PC (может разделиться и консистентна, но не отвечает), PC-EC (упор на консистентность)  

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

ACID — кислота, BASE — щелочь - противоположные вещи.

Принципы BASE значительно слабее гарантий ACID, и между ними нет прямого соответствия. Значения в BASE-хранилище доступны, 
но это не предлагает гарантированной согласованности реплик при записи. BASE-хранилища обеспечивают менее строгий контроль: 
данные будут согласованы позднее, вероятнее всего, во время чтения (как, например, в Riak), или всегда будут согласованы, 
но только для определенных фиксаций, обработанных последними (как, например, в Datomic).


## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?

Не совсем понятно ТЗ, но если исходить из прикрепленной статьи то ответ - БД Redis.

Redis - БД с высокой производительностью, за счет хранения данных в памяти.
Если рассматривать redis, как sub/pub систему, то БД не хранит у себя сообщения, отправляет подписчикам и затем удаляет через какое-то время. 
Т.е. база может быть не сильно большая, а значит не дорогая.  
Может в этой ситуации не сильно нужна надежность и стабильность.

Минусы:
- есть риск потери данных, которые не сохранились на диск, между интервалами сохранения.
- ограничены в рамках памяти, оперативная память хоть и подешевела, но всеравно дороже дисковой.

Но зато летает миллисекундами :)