# Дамашнее задание 18

## Олег Дьяченко DEVOPS-22

# Домашнее задание к занятию "1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

- Полная виртуализация. Гостевая ОС "не догадывается" о том, что она находится в виртуальной среде, могут быть любые ОС.
- Паравиртуализации. Гостевая ОС знает, что она является гостевой. Нужны специальные драйвера и поддрежка гостевой ОС.
- Виртуализации на основе ОС. Контейнерная виртуализация, позволяет запускать ОС с ядром только базовой операционной системы.

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу. Ну можно и физический сервер, но придется обеспечивать кластеры и диски тоже на железе, довольно затратно. Паравиртуализация подойдет ближе, лучше в облаке, где отказоустойчивость на уровне гипервизора железо подобрано.
- Различные web-приложения - Контейнерная, ядро одно, заморочки больше с разношерстными библиотеками и их версиями.
- Windows системы для использования бухгалтерским отделом. - Если локальные рабочие места, то конечно физические обычные компы, если еще общий сервер с какой либо базой типа 1С то либо физический либо паравиртуализация. А то у меня 1С может столько ресурсов отожрать, что ни каких ресурсов хостовой машины не хватит. Для программистов хватит и виртуального(паравиртуализация) сервера.
- Системы, выполняющие высокопроизводительные расчеты на GPU. - здесь больше физические, не все гипервизоры могут разделять ресурсы видеоускорителя, если и виртуализировать то уже коммерческого производственного класса, дешево не отделаешься. 

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

#### 1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
HyperV или ESXi. HyperV - винда под виндой неплохо работает, резервирование тоже реализовано из коробки. Linux тоже работает. 
ESXi вроде как получше, цена будет по выше. Резервирование будет больше на уровне гостевой ОС, если на гипервизоре то надо будет еще дополнительное ПО ставить либо VMware либо других типа Veeam. 
Я бы сказал больше зависит от количества денег.  

#### 2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
KVM. Стоит на последних современных линуксах. Может и винду и линуксы запускать.

#### 3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
А что значит бесплатное. По сути HyperV бесплатный если ты купил саму ОС серверную. Совместимое и производительное. 
Даже в лицензии Стандарт идет 2 виртуальные машины на одну лицензию. 
Вообще HyperV Core бесплатное, правда чтобы им управлять надо виндовую машину с установленными остнастками (можно и виртуальную). 
Можно и KVM прикрутить. Но если лицензировать виртуальные машины Windows то конечно HyperV.

#### 4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
Думаю лучше всего подойдут виртуализация уровня ОС OpenVZ и Docker.

## Задача 4

#### Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Когда много разношерстного оборудования разных вендоров, а еще поверх этого стоит разношерстное ПО, то это конечно не есть хорошо.
Понятно что супер специалистом во всем не станешь, но приходится разбираться по чуть-чуть во всех областях и разном ПО.

Из опыта когда делаешь сразу единый проект то конечно все берешь у одного вендора железо, а потом одно ПО для всего этого добра.
И получается красота. Но со временем все-равно что-то докупается что-то обновляется. Вендоры меняются, ПО устаревает. Использовать 
одно ПО даже одного поставщика не получается, все меняется. Так что кто рассчитывает сделать красиво и навсегда тот не работал в ИТ.

Поэтому я стремлюсь делать проще и то что я знаю. Ну и взависимости кто со мной работает, что они знают. Потому что придет "гений"
наворотит и свалит, а потом разберись что да как работает.

Я остановился на VMWare ESXi, 10 лет полет нормальный.

